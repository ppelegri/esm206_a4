---
title: "Snowshoe Hares"
author: "Patrick Pelegri-O'Day"
date: "11/5/2021"
output: html_document
---

## Introduction
A 4 - 5 sentence "mini-introduction" to what this study is exploring, including basic background information about the subject, site and study (with citations as needed), and a brief overview of what is included in the exploratory report. 

## Data and Analyses
A 3 - 4 sentence section in which you briefly describe the data, including citation & credit as needed, and provide an overview of the main analysis, statistical methods and tools used.

**Data citation:** Kielland, K., F.S. Chapin, R.W. Ruess, and Bonanza Creek LTER. 2017. Snowshoe hare physical data in Bonanza Creek Experimental Forest: 1999-Present ver 22. Environmental Data Initiative. https://doi.org/10.6073/pasta/03dce4856d79b91557d8e6ce2cbcdc14

**Link to metadata:** https://portal.edirepository.org/nis/metadataviewer?packageid=knb-lter-bnz.55.22

## Setup

Attach packages
```{r setup, include=TRUE, message = FALSE, warning = FALSE}
knitr::opts_chunk$set(echo = TRUE, message = FALSE, warning = FALSE)

library(tidyverse)
library(here)
library(kableExtra)
library(lubridate)

library(effsize)
library(broom)
library(ggbeeswarm)


```

Read in the data
```{r}
hares_raw <-
  read_csv(show_col_types = FALSE, here("data", "bonanza_hares.csv"))
```


## Data exploration

Convert date column into YYYY-MM-DD format, change class to Date, create column year
```{r}
hares <- hares_raw %>% 
  mutate(date = mdy(date)) %>% # replace original date column with new date column in YYYY-MM-DD format in which column class is "Date"
  mutate(year = year(date)) # create new column called year that contains the year, derived from the date column
```

Annual juvenile hare trap counts. Count the total number of juvenile hare trappings during each year of the study, and create a finalized data visualization of the counts by year. Include a figure caption below the figure in your report. 
```{r, fig.cap = "**Figure 1: Count of Juvenile Snowshoe Hares.** This graph displays counts of juvenile snowshe hares that were trapped in Bonanza Creek Experimental Forest. The observation period spans 1998 to 2012."}
# Group hares by year and create count per year
hares_trap_counts <- hares %>% 
  group_by(year) %>% 
  summarize(count = n())

# Visualize count of trapped hares by year
ggplot(hares_trap_counts,
       aes(x = year, y = count)) +
  geom_line() +
  geom_point() +
  labs(x = "Year", y = "Count")
```

Create table displaying maximum, minimum, and median annual counts of juvenile snowshoe hares
```{r}
# Group hares by year and calculate count per year as well as minimum count, maximum count, and median count
hares_counts_stats <- hares_trap_counts %>% 
  summarize(min_count = min(count),
            max_count = max(count),
            med_count = median(count))
  

# Create table of summary statistics
kable(hares_counts_stats, # create table
      col = c("Minimum Count", "Maximum Count", "Median Count"), # assign column names
      caption = "Table 1: Maximum, minimum, and median annual count of snowshoe hares from 1998 to 2012") %>% 
  kable_styling(full_width = FALSE) # make table narrower
```

**[INSERT 3-4 sentences describing major takeaways].** What were the minimum and maximum counts of juvenile hare trappings?
Mean or median annual number of juvenile hares trapped?
General/notable trends?
These are absolute counts, but this count is also impacted by effort (e.g. the number of days and number of traps in the study each year). What would you suggest be done moving forward (you are not expected to actually do this) to standardize the juvenile hare population in future analyses?